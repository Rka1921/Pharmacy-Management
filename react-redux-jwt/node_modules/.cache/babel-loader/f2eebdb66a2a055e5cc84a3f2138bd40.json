{"ast":null,"code":"\"use strict\"; // https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction getRole(element) {\n  const explicitRole = getExplicitRole(element);\n\n  if (explicitRole !== null) {\n    return explicitRole;\n  }\n\n  return getImplicitRole(element);\n}\n\nexports.default = getRole;\nconst tagToRoleMappings = {\n  ARTICLE: \"article\",\n  ASIDE: \"complementary\",\n  BODY: \"document\",\n  BUTTON: \"button\",\n  DATALIST: \"listbox\",\n  DD: \"definition\",\n  DETAILS: \"group\",\n  DIALOG: \"dialog\",\n  DT: \"term\",\n  FIELDSET: \"group\",\n  FIGURE: \"figure\",\n  // WARNING: Only with an accessible name\n  FORM: \"form\",\n  FOOTER: \"contentinfo\",\n  H1: \"heading\",\n  H2: \"heading\",\n  H3: \"heading\",\n  H4: \"heading\",\n  H5: \"heading\",\n  H6: \"heading\",\n  HEADER: \"banner\",\n  HR: \"separator\",\n  LEGEND: \"legend\",\n  LI: \"listitem\",\n  MATH: \"math\",\n  MAIN: \"main\",\n  MENU: \"list\",\n  NAV: \"navigation\",\n  OL: \"list\",\n  OPTGROUP: \"group\",\n  // WARNING: Only in certain context\n  OPTION: \"option\",\n  OUTPUT: \"status\",\n  PROGRESS: \"progressbar\",\n  // WARNING: Only with an accessible name\n  SECTION: \"region\",\n  SUMMARY: \"button\",\n  TABLE: \"table\",\n  TBODY: \"rowgroup\",\n  TEXTAREA: \"textbox\",\n  TFOOT: \"rowgroup\",\n  // WARNING: Only in certain context\n  TD: \"cell\",\n  TH: \"columnheader\",\n  THEAD: \"rowgroup\",\n  TR: \"row\",\n  UL: \"list\"\n};\n\nfunction getImplicitRole(element) {\n  const mappedByTag = tagToRoleMappings[element.tagName];\n\n  if (mappedByTag !== undefined) {\n    return mappedByTag;\n  }\n\n  switch (element.tagName) {\n    case \"A\":\n    case \"AREA\":\n    case \"LINK\":\n      if (element.hasAttribute(\"href\")) {\n        return \"link\";\n      }\n\n      break;\n\n    case \"IMG\":\n      if ((element.getAttribute(\"alt\") || \"\").length > 0) {\n        return \"img\";\n      }\n\n      break;\n\n    case \"INPUT\":\n      {\n        const {\n          type\n        } = element;\n\n        switch (type) {\n          case \"button\":\n          case \"image\":\n          case \"reset\":\n          case \"submit\":\n            return \"button\";\n\n          case \"checkbox\":\n          case \"radio\":\n            return type;\n\n          case \"range\":\n            return \"slider\";\n\n          case \"email\":\n          case \"tel\":\n          case \"text\":\n          case \"url\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"textbox\";\n\n          case \"search\":\n            if (element.hasAttribute(\"list\")) {\n              return \"combobox\";\n            }\n\n            return \"searchbox\";\n\n          default:\n            return null;\n        }\n      }\n\n    case \"SELECT\":\n      if (element.hasAttribute(\"multiple\") || element.size > 1) {\n        return \"listbox\";\n      }\n\n      return \"combobox\";\n  }\n\n  return null;\n}\n\nfunction getExplicitRole(element) {\n  if (element.hasAttribute(\"role\")) {\n    // safe due to hasAttribute check\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const [explicitRole] = element.getAttribute(\"role\").trim().split(\" \");\n\n    if (explicitRole !== undefined && explicitRole.length > 0) {\n      return explicitRole;\n    }\n  }\n\n  return null;\n}","map":{"version":3,"mappings":"cAAA;;;;;;AAEA,SAAwBA,OAAxB,CAAgCC,OAAhC,EAAgD;EAC/C,MAAMC,YAAY,GAAGC,eAAe,CAACF,OAAD,CAApC;;EACA,IAAIC,YAAY,KAAK,IAArB,EAA2B;IAC1B,OAAOA,YAAP;EACA;;EAED,OAAOE,eAAe,CAACH,OAAD,CAAtB;AACA;;AAPDI;AASA,MAAMC,iBAAiB,GAAuC;EAC7DC,OAAO,EAAE,SADoD;EAE7DC,KAAK,EAAE,eAFsD;EAG7DC,IAAI,EAAE,UAHuD;EAI7DC,MAAM,EAAE,QAJqD;EAK7DC,QAAQ,EAAE,SALmD;EAM7DC,EAAE,EAAE,YANyD;EAO7DC,OAAO,EAAE,OAPoD;EAQ7DC,MAAM,EAAE,QARqD;EAS7DC,EAAE,EAAE,MATyD;EAU7DC,QAAQ,EAAE,OAVmD;EAW7DC,MAAM,EAAE,QAXqD;EAY7D;EACAC,IAAI,EAAE,MAbuD;EAc7DC,MAAM,EAAE,aAdqD;EAe7DC,EAAE,EAAE,SAfyD;EAgB7DC,EAAE,EAAE,SAhByD;EAiB7DC,EAAE,EAAE,SAjByD;EAkB7DC,EAAE,EAAE,SAlByD;EAmB7DC,EAAE,EAAE,SAnByD;EAoB7DC,EAAE,EAAE,SApByD;EAqB7DC,MAAM,EAAE,QArBqD;EAsB7DC,EAAE,EAAE,WAtByD;EAuB7DC,MAAM,EAAE,QAvBqD;EAwB7DC,EAAE,EAAE,UAxByD;EAyB7DC,IAAI,EAAE,MAzBuD;EA0B7DC,IAAI,EAAE,MA1BuD;EA2B7DC,IAAI,EAAE,MA3BuD;EA4B7DC,GAAG,EAAE,YA5BwD;EA6B7DC,EAAE,EAAE,MA7ByD;EA8B7DC,QAAQ,EAAE,OA9BmD;EA+B7D;EACAC,MAAM,EAAE,QAhCqD;EAiC7DC,MAAM,EAAE,QAjCqD;EAkC7DC,QAAQ,EAAE,aAlCmD;EAmC7D;EACAC,OAAO,EAAE,QApCoD;EAqC7DC,OAAO,EAAE,QArCoD;EAsC7DC,KAAK,EAAE,OAtCsD;EAuC7DC,KAAK,EAAE,UAvCsD;EAwC7DC,QAAQ,EAAE,SAxCmD;EAyC7DC,KAAK,EAAE,UAzCsD;EA0C7D;EACAC,EAAE,EAAE,MA3CyD;EA4C7DC,EAAE,EAAE,cA5CyD;EA6C7DC,KAAK,EAAE,UA7CsD;EA8C7DC,EAAE,EAAE,KA9CyD;EA+C7DC,EAAE,EAAE;AA/CyD,CAA9D;;AAkDA,SAAS7C,eAAT,CAAyBH,OAAzB,EAAyC;EACxC,MAAMiD,WAAW,GAAG5C,iBAAiB,CAACL,OAAO,CAACkD,OAAT,CAArC;;EACA,IAAID,WAAW,KAAKE,SAApB,EAA+B;IAC9B,OAAOF,WAAP;EACA;;EAED,QAAQjD,OAAO,CAACkD,OAAhB;IACC,KAAK,GAAL;IACA,KAAK,MAAL;IACA,KAAK,MAAL;MACC,IAAIlD,OAAO,CAACoD,YAAR,CAAqB,MAArB,CAAJ,EAAkC;QACjC,OAAO,MAAP;MACA;;MACD;;IACD,KAAK,KAAL;MACC,IAAI,CAACpD,OAAO,CAACqD,YAAR,CAAqB,KAArB,KAA+B,EAAhC,EAAoCC,MAApC,GAA6C,CAAjD,EAAoD;QACnD,OAAO,KAAP;MACA;;MACD;;IACD,KAAK,OAAL;MAAc;QACb,MAAM;UAAEC;QAAF,IAAWvD,OAAjB;;QACA,QAAQuD,IAAR;UACC,KAAK,QAAL;UACA,KAAK,OAAL;UACA,KAAK,OAAL;UACA,KAAK,QAAL;YACC,OAAO,QAAP;;UACD,KAAK,UAAL;UACA,KAAK,OAAL;YACC,OAAOA,IAAP;;UACD,KAAK,OAAL;YACC,OAAO,QAAP;;UACD,KAAK,OAAL;UACA,KAAK,KAAL;UACA,KAAK,MAAL;UACA,KAAK,KAAL;YACC,IAAIvD,OAAO,CAACoD,YAAR,CAAqB,MAArB,CAAJ,EAAkC;cACjC,OAAO,UAAP;YACA;;YACD,OAAO,SAAP;;UAED,KAAK,QAAL;YACC,IAAIpD,OAAO,CAACoD,YAAR,CAAqB,MAArB,CAAJ,EAAkC;cACjC,OAAO,UAAP;YACA;;YACD,OAAO,WAAP;;UACD;YACC,OAAO,IAAP;QA1BF;MA4BA;;IACD,KAAK,QAAL;MACC,IACCpD,OAAO,CAACoD,YAAR,CAAqB,UAArB,KACCpD,OAA6B,CAACwD,IAA9B,GAAqC,CAFvC,EAGE;QACD,OAAO,SAAP;MACA;;MACD,OAAO,UAAP;EAnDF;;EAqDA,OAAO,IAAP;AACA;;AAED,SAAStD,eAAT,CAAyBF,OAAzB,EAAyC;EACxC,IAAIA,OAAO,CAACoD,YAAR,CAAqB,MAArB,CAAJ,EAAkC;IACjC;IACA;IACA,MAAM,CAACnD,YAAD,IAAiBD,OAAO,CAC5BqD,YADqB,CACR,MADQ,EAErBI,IAFqB,GAGrBC,KAHqB,CAGf,GAHe,CAAvB;;IAIA,IAAIzD,YAAY,KAAKkD,SAAjB,IAA8BlD,YAAY,CAACqD,MAAb,GAAsB,CAAxD,EAA2D;MAC1D,OAAOrD,YAAP;IACA;EACD;;EAED,OAAO,IAAP;AACA","names":["getRole","element","explicitRole","getExplicitRole","getImplicitRole","exports","tagToRoleMappings","ARTICLE","ASIDE","BODY","BUTTON","DATALIST","DD","DETAILS","DIALOG","DT","FIELDSET","FIGURE","FORM","FOOTER","H1","H2","H3","H4","H5","H6","HEADER","HR","LEGEND","LI","MATH","MAIN","MENU","NAV","OL","OPTGROUP","OPTION","OUTPUT","PROGRESS","SECTION","SUMMARY","TABLE","TBODY","TEXTAREA","TFOOT","TD","TH","THEAD","TR","UL","mappedByTag","tagName","undefined","hasAttribute","getAttribute","length","type","size","trim","split"],"sourceRoot":"","sources":["../sources/getRole.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}